<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Donate | Nurse Anesthesiology Foundation</title>
    <link rel="stylesheet" href="styles/main.css" />
    <style>
      .select-group {
        display: flex;
        gap: 1em;
        margin-bottom: 1.5em;
      }
      .select-btn {
        padding: 0.7em 1.5em;
        border: 2px solid var(--primary, #2a5298);
        background: #fff;
        color: var(--primary, #2a5298);
        border-radius: 4px;
        font-size: 1em;
        cursor: pointer;
        transition: background 0.2s, color 0.2s;
      }
      .select-btn.selected,
      .select-btn:focus {
        background: var(--primary, #2a5298);
        color: #fff;
        outline: none;
      }
      input[type="number"],
      input[type="text"] {
        border-radius: 4px;
        border: 1px solid #ccc;
        padding: 0.5em;
        font-size: 1em;
      }
      .payment-methods {
        display: flex;
        gap: 1em;
        margin-bottom: 1.5em;
      }
      /* --- Visual Enhancements --- */
      .donation-form,
      .story-card {
        transition: box-shadow 0.3s, transform 0.3s;
      }
      .donation-form:hover,
      .story-card:hover {
        box-shadow: 0 8px 24px rgba(42, 82, 152, 0.15);
        transform: translateY(-4px) scale(1.02);
      }
      .hero {
        background: linear-gradient(
            rgba(42, 82, 152, 0.7),
            rgba(42, 82, 152, 0.3)
          ),
          url("https://images.unsplash.com/photo-1526256262350-7da7584cf5eb?auto=format&fit=crop&w=1200&q=80")
            center/cover no-repeat;
        color: #fff;
        padding: 3em 1em;
        border-radius: 8px;
        margin-bottom: 2em;
        text-align: center;
      }
      .impact-highlight {
        margin: 2em auto 1em auto;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(42, 82, 152, 0.08);
        padding: 1.5em 1em;
        max-width: 400px;
        text-align: center;
      }
      .impact-highlight h2 {
        color: var(--primary, #2a5298);
        font-size: 2em;
        margin: 0;
      }
      #personal-greeting {
        font-size: 1.1em;
        color: #2a5298;
        margin-bottom: 1em;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <header>
      <nav class="main-nav">
        <div class="brand-logo">
          <img
            src="images/logo.png"
            alt="AANA Foundation - American Association of Nurse Anesthesiology"
            style="height: 48px; width: auto; display: block"
          />
        </div>
        <input type="checkbox" id="nav-toggle" class="nav-toggle" />
        <label for="nav-toggle" class="nav-toggle-label">
          <span></span>
          <span></span>
          <span></span>
        </label>
        <ul class="nav-links">
          <li><a href="index.html" class="active">Home</a></li>
          <li><a href="donate.html">Donate</a></li>
          <li><a href="impact.html">Impact</a></li>
          <li><a href="events.html">Events</a></li>
          <li><a href="stories.html">Success Stories</a></li>
          <li><a href="volunteer.html">Volunteer</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="blog.html">Blog</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>

        <div class="theme-picker">
          <label for="theme-select" style="font-size: 0.95em">Theme:</label>
          <select id="theme-select">
            <option value="default">Foundation Blue</option>
            <option value="nature">Nature Green</option>
            <option value="sunset">Sunset Orange</option>
          </select>
        </div>
      </nav>
    </header>
    <section class="hero">
      <h1>Donate to Support Nurse Anesthesiology</h1>
      <p>
        Your gift funds research, scholarships, and the future of nurse
        anesthesiology.
      </p>
      <!-- Personalization -->
      <p id="personal-greeting"></p>
      <!-- Impact Highlight -->
      <div class="impact-highlight">
        <h2><span id="scholarship-count">0</span> Scholarships Awarded</h2>
        <p>
          Thanks to donors like you, we've empowered over 1,200 nurse
          anesthetists!
        </p>
      </div>
    </section>
    <main>
      <section>
        <form class="donation-form" autocomplete="off">
          <h2>Choose your donation type</h2>
          <div class="select-group" id="frequency-group">
            <button
              type="button"
              class="select-btn selected"
              data-value="one-time"
            >
              One-time
            </button>
            <button type="button" class="select-btn" data-value="monthly">
              Monthly
            </button>
          </div>
          <input
            type="hidden"
            name="frequency"
            id="frequency-input"
            value="one-time"
          />

          <h2>Select an amount</h2>
          <div class="select-group" id="amount-group">
            <button type="button" class="select-btn selected" data-value="25">
              $25
            </button>
            <button type="button" class="select-btn" data-value="50">
              $50
            </button>
            <button type="button" class="select-btn" data-value="75">
              $75
            </button>
            <button
              type="button"
              class="select-btn"
              data-value="other"
              id="otherAmountBtn"
            >
              Other
            </button>
            <input
              type="number"
              name="other-amount"
              id="otherAmountInput"
              min="1"
              placeholder="Other $"
              style="width: 90px; display: none"
            />
          </div>
          <input type="hidden" name="amount" id="amount-input" value="25" />

          <h2>Payment Method</h2>
          <div class="payment-methods" id="payment-group">
            <button
              type="button"
              class="select-btn selected"
              data-value="credit-card"
            >
              Credit Card
            </button>
            <button type="button" class="select-btn" data-value="paypal">
              PayPal
            </button>
            <button type="button" class="select-btn" data-value="apple-pay">
              Apple Pay
            </button>
          </div>
          <input
            type="hidden"
            name="payment"
            id="payment-input"
            value="credit-card"
          />

          <div id="credit-card-fields">
            <label>
              Card Number<br />
              <input
                type="text"
                name="cc-number"
                maxlength="19"
                placeholder="1234 5678 9012 3456"
                required
              /> </label
            ><br />
            <label>
              Expiry<br />
              <input
                type="text"
                name="cc-expiry"
                maxlength="5"
                placeholder="MM/YY"
                required
              /> </label
            ><br />
            <label>
              CVC<br />
              <input
                type="text"
                name="cc-cvc"
                maxlength="4"
                placeholder="CVC"
                required
              />
            </label>
          </div>

          <div id="paypal-fields" style="display: none">
            <p>
              After clicking Donate, you will be redirected to PayPal to
              complete your donation.
            </p>
          </div>
          <div id="apple-pay-fields" style="display: none">
            <p>Apple Pay is supported on compatible devices and browsers.</p>
          </div>

          <button type="submit" class="cta-button">Donate</button>
        </form>
      </section>
    </main>
    <footer>
      <p>&copy; 2025 Nurse Anesthesiology Nonprofit</p>
    </footer>
    <script>
      // Frequency selection
      const freqBtns = document.querySelectorAll(
        "#frequency-group .select-btn"
      );
      const freqInput = document.getElementById("frequency-input");
      freqBtns.forEach((btn) => {
        btn.addEventListener("click", function () {
          freqBtns.forEach((b) => b.classList.remove("selected"));
          this.classList.add("selected");
          freqInput.value = this.dataset.value;
        });
      });

      // Amount selection
      const amountBtns = document.querySelectorAll("#amount-group .select-btn");
      const amountInput = document.getElementById("amount-input");
      const otherAmountBtn = document.getElementById("otherAmountBtn");
      const otherAmountInput = document.getElementById("otherAmountInput");
      amountBtns.forEach((btn) => {
        btn.addEventListener("click", function () {
          amountBtns.forEach((b) => b.classList.remove("selected"));
          this.classList.add("selected");
          if (this.dataset.value === "other") {
            otherAmountInput.style.display = "";
            otherAmountInput.focus();
            amountInput.value = otherAmountInput.value || "";
          } else {
            otherAmountInput.style.display = "none";
            amountInput.value = this.dataset.value;
          }
        });
      });
      otherAmountInput.addEventListener("input", function () {
        amountInput.value = this.value;
      });

      // Payment method selection
      const paymentBtns = document.querySelectorAll(
        "#payment-group .select-btn"
      );
      const paymentInput = document.getElementById("payment-input");
      const ccFields = document.getElementById("credit-card-fields");
      const paypalFields = document.getElementById("paypal-fields");
      const applePayFields = document.getElementById("apple-pay-fields");
      paymentBtns.forEach((btn) => {
        btn.addEventListener("click", function () {
          paymentBtns.forEach((b) => b.classList.remove("selected"));
          this.classList.add("selected");
          paymentInput.value = this.dataset.value;
          ccFields.style.display =
            this.dataset.value === "credit-card" ? "" : "none";
          paypalFields.style.display =
            this.dataset.value === "paypal" ? "" : "none";
          applePayFields.style.display =
            this.dataset.value === "apple-pay" ? "" : "none";
        });
      });
      // Theme picker logic
      const themeSelect = document.getElementById("theme-select");
      const userPref = localStorage.getItem("theme");
      if (userPref) {
        setTheme(userPref);
        themeSelect.value = userPref;
      } else {
        themeSelect.value = "default";
      }

      themeSelect.addEventListener("change", function () {
        setTheme(this.value);
        localStorage.setItem("theme", this.value);
      });

      function setTheme(theme) {
        document.documentElement.classList.remove(
          "theme-default",
          "theme-nature",
          "theme-sunset"
        );
        if (theme === "nature") {
          document.documentElement.classList.add("theme-nature");
        } else if (theme === "sunset") {
          document.documentElement.classList.add("theme-sunset");
        } else {
          document.documentElement.classList.add("theme-default");
        }
      }

      // Personalization
      const greeting = document.getElementById("personal-greeting");
      const donorName = localStorage.getItem("donorName");
      if (donorName) {
        greeting.textContent = `Welcome back, ${donorName}! Thank you for your continued support.`;
      } else {
        greeting.textContent = `Thank you for considering a donation!`;
      }

      // Impact Highlight Counter
      function animateCount(id, end, duration = 2000) {
        const el = document.getElementById(id);
        let start = 0;
        const step = Math.ceil(end / (duration / 30));
        const timer = setInterval(() => {
          start += step;
          if (start >= end) {
            el.textContent = end.toLocaleString();
            clearInterval(timer);
          } else {
            el.textContent = start.toLocaleString();
          }
        }, 30);
      }
      animateCount("scholarship-count", 1200); // Example: 1200 scholarships
    </script>
  </body>
</html>
